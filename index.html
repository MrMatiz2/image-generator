<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Im√°genes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mansalva&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-12">
                <h1 class="text-center mb-4 text-dark">üé® Generador de Im√°genes</h1>
            </div>
        </div>
        
        <div class="row g-3 mb-4">
            <div class="col-md-6 col-lg-4">
                <label for="authorText" class="form-label fw-bold">Autor/Handle:</label>
                <input type="text" class="form-control" id="authorText" value="@Escuchemos_al_MaestroJes√∫s" placeholder="@tu_handle">
            </div>
            
            <div class="col-md-6 col-lg-4">
                <label for="titleText" class="form-label fw-bold">T√≠tulo:</label>
                <input type="text" class="form-control" id="titleText" placeholder="T√≠tulo de la imagen">
            </div>
            
            <div class="col-12 col-lg-4">
                <div class="d-flex justify-content-between align-items-center">
                    <label for="contentText" class="form-label fw-bold mb-0">Contenido:</label>
                    <button type="button" class="btn btn-outline-secondary btn-sm" onclick="clearContent()">
                        üóëÔ∏è Limpiar
                    </button>
                </div>
                <textarea class="form-control mt-2" id="contentText" rows="4" placeholder="Escribe el contenido aqu√≠..."></textarea>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <label for="imageFile" class="form-label fw-bold">Imagen de Fondo:</label>
                <input type="file" class="form-control" id="imageFile" accept="image/*">
                <small class="form-text text-muted">Sube una imagen o usa la predeterminada</small>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <label for="backgroundEffect" class="form-label fw-bold">Efecto de Fondo:</label>
                <select class="form-select" id="backgroundEffect">
                    <option value="opacity" selected>Opacidad</option>
                    <option value="blur">Difuminado</option>
                </select>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <label for="overlayOpacity" class="form-label fw-bold">Opacidad del Overlay:</label>
                <select class="form-select" id="overlayOpacity">
                    <option value="0.3">30% (M√°s clara)</option>
                    <option value="0.4" selected>40% (Recomendado)</option>
                    <option value="0.5">50% (M√°s oscura)</option>
                    <option value="0.6">60% (Muy oscura)</option>
                </select>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <label for="blurIntensity" class="form-label fw-bold">Intensidad de Difuminado:</label>
                <select class="form-select" id="blurIntensity">
                    <option value="2">Suave (2px)</option>
                    <option value="4" selected>Medio (4px)</option>
                    <option value="6">Fuerte (6px)</option>
                    <option value="8">Muy Fuerte (8px)</option>
                </select>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <label for="fontSize" class="form-label fw-bold">Tama√±o de Fuente:</label>
                <select class="form-select" id="fontSize">
                    <option value="10">Muy Peque√±o (10px)</option>
                    <option value="16">Peque√±o (16px)</option>
                    <option value="18" selected>Mediano (18px)</option>
                    <option value="20">Grande (20px)</option>
                    <option value="22">Extra Grande (22px)</option>
                </select>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <label for="authorFont" class="form-label fw-bold">Fuente del Autor:</label>
                <select class="form-select" id="authorFont">
                    <option value="Open Sans" selected>Open Sans</option>
                    <option value="Mansalva">Mansalva</option>
                </select>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <label for="authorSize" class="form-label fw-bold">Tama√±o del Autor:</label>
                <select class="form-select" id="authorSize">
                    <option value="10">Muy Peque√±o (10px)</option>
                    <option value="12">Peque√±o (12px)</option>
                    <option value="14" selected>Mediano (14px)</option>
                    <option value="16">Grande (16px)</option>
                    <option value="18">Extra Grande (18px)</option>
                </select>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <label for="titleFont" class="form-label fw-bold">Fuente del T√≠tulo:</label>
                <select class="form-select" id="titleFont">
                    <option value="Open Sans" selected>Open Sans</option>
                    <option value="Mansalva">Mansalva</option>
                </select>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <label for="contentFont" class="form-label fw-bold">Fuente del Contenido:</label>
                <select class="form-select" id="contentFont">
                    <option value="Open Sans" selected>Open Sans</option>
                    <option value="Mansalva">Mansalva</option>
                </select>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-12 col-lg-8 col-xl-6">
                <div class="d-flex flex-column flex-lg-row gap-4 align-items-start justify-content-center">
                    <div class="inspirational-template mx-auto" id="imagePreview">
                        <div class="background-layer" id="backgroundLayer"></div>
                        <div class="overlay" id="overlay">
                            <div class="author" id="authorDisplay">@Escuchemos_al_MaestroJes√∫s</div>
                            <div class="title" id="titleDisplay">Escuchen hijos m√≠os:</div>
                            <div class="content" id="contentDisplay">
                                El alma guarda experiencias de cada vida para aprender de ellas. Preg√∫ntate: ¬øqu√© ense√±anza trae tu dolor, tu sensaci√≥n de abandono o desprecio?<br><br>

                                T√∫ eres energ√≠a de amor. Esa es tu esencia. Desde ah√≠ puedes sanar la relaci√≥n contigo mismo y mirar tu vida con una visi√≥n m√°s elevada.<br><br>

                                No te quedes atado a resentimientos. Imagina que sueltas esas cuerdas con tus propias manos. Tienes el poder de liberarte.<br><br>

                                Recuerda: quienes te lastimaron actuaron con la conciencia que ten√≠an. Al comprenderlo, transformas el dolor en paz.<br><br>

                                En la cruz dije: "Padre, perd√≥nalos, porque no saben lo que hacen". Ese fue mi camino de libertad espiritual. T√∫ tambi√©n puedes elegir el perd√≥n y vibrar en el Amor de Dios.
                            </div>
                        </div>
                    </div>

                    <div class="d-flex flex-column gap-3">
                        <button class="btn btn-primary btn-lg" onclick="downloadAsImage()">
                            üì± Descargar como Imagen
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SVG Filter para blur que funciona mejor con html2canvas -->
    <svg style="position: absolute; width: 0; height: 0; overflow: hidden;">
        <defs>
            <filter id="blur-filter">
                <feGaussianBlur in="SourceGraphic" stdDeviation="4"/>
            </filter>
        </defs>
    </svg>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="script.js"></script>
</body>
</html>